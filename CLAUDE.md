# 트리우스 도서관 검색 웹사이트 개발 프로젝트

## 📋 프로젝트 개요
- **목표**: 트리우스 도서관 검색 웹사이트 UI 개선 및 기능 추가
- **데이터 파일**: `trius_book_list.csv` (컬럼: 번호, 도서명, 저자, 분류, 추천 대상, 분류번호)
- **주요 파일**: `index.html`, `static/style.css`

## ✅ 완료된 기능들

### 1. [보기] 버튼 시스템
- **목적**: 추천대상이 20자 이상일 때 [보기] 버튼으로 전체 텍스트 표시
- **동작**: 
  - 클릭 시 새로운 행에 추천대상 전체 텍스트 표시
  - CSS `text-align: justify` 양쪽 정렬 적용
  - [보기] ↔ [닫기] 버튼 토글
- **구현**: 데이터 속성 기반 DOM 조작 (`data-index`, `data-text`)

### 2. 30개씩 페이지네이션
- **표시**: 한 페이지당 30개 도서
- **디자인**: 모던한 글래스모피즘 스타일 (원형 번호 버튼)
- **기능**: 
  - 스마트 페이지 표시 (현재 페이지 중심 7개 + "..." 표시)
  - 검색/정렬 시 첫 페이지로 자동 이동
  - 페이지 변경 시 확장된 추천대상 자동 닫기
- **모바일**: 한 줄 고정 표시 (`flex-wrap: nowrap`, 가로 스크롤)

### 3. 검색결과 다운로드 기능
- **버튼 교체**: 검색 시 [도서 업데이트 방법] → [검색결과 다운로드] 버튼
- **형식**: HTML 파일 (TXT에서 변경됨)
- **파일명**: `트리우스도서검색_{검색어}_YYMMDD.html`
- **내용 구조**:
  ```
  📚 트리우스 도서 검색결과
  Trius Books Search Results
  
  [회색 박스 - 검색 정보]
  "검색어" 키워드로 검색하신 도서가
  YYYY년 M월 D일 기준, 총 X권이 있네요.
  분류번호를 메모하면 책 찾기가 수월할 거예요.
  책과 함께 즐거운 시간 되세요! 📚
  
  [흰색 박스 - 도서 목록]
  1. 도서명
  저자: 김작가 | 분류: 예술/취미 | 분류번호: A001
  [회색 박스] 추천대상: 내용...
  
  [#34495e 배경 출력 버튼] 🖨️ 출력하기
  
  본 도서목록은 입주민 편의를 위해 개인적으로 만들어졌습니다.
  제안이나 메시지는 dooook@gmail.com 으로 보내주세요.
  
  © 2025 Agnes Legrand. All rights reserved.
  ```

## 🎨 디자인 시스템

### 색상 가이드
- **메인 색상**: `#34495e` (다크 블루그레이)
- **강조 색상**: `#e74c3c` (빨간색 - 분류번호용)
- **버튼 색상**:
  - [보기]: `rgba(127, 140, 141, 0.8)`
  - [닫기]: `#34495e`
  - [검색결과 다운로드]: `rgba(52, 152, 219, 0.8)`
- **텍스트**: `#7f8c8d` (회색), `#2c3e50` (어두운 회색)

### 반응형 설계
- **컬럼 너비**: 저자(20%, 208px), 분류(12%, 110px)
- **모바일 최적화**: 가로 스크롤 방지, 페이지네이션 한 줄 고정

## 🔧 핵심 JavaScript 함수들

### 주요 변수
```javascript
let isSearchActive = false;      // 검색 상태
let currentSearchQuery = '';     // 현재 검색어
let filteredBooks = [];          // 필터된 도서 목록
let currentPage = 1;             // 현재 페이지
let itemsPerPage = 30;           // 페이지당 아이템 수
```

### 핵심 함수
- `displayBooksWithPagination()`: 페이지네이션 적용하여 도서 표시
- `toggleRecommendation(buttonElement)`: [보기] 버튼 토글 기능
- `downloadSearchResults()`: HTML 형식 검색결과 다운로드
- `toggleButtons()`: 검색 상태에 따른 버튼 표시/숨김
- `createPagination(totalPages)`: 페이지네이션 컨트롤 생성
- `goToPage(page)`: 특정 페이지로 이동

## 📁 파일 구조
```
triusbooks-main/
├── index.html              # 메인 HTML 파일
├── static/
│   └── style.css           # 스타일시트
├── trius_book_list.csv     # 도서 데이터
└── CLAUDE.md              # 이 파일 (프로젝트 상태 기록)
```

## 🚀 사용 방법 (내일 작업 시)
1. 새로운 Claude 대화에서 "CLAUDE.md 파일을 참조해줘"라고 요청
2. 현재 구현된 기능들과 상태를 자동으로 파악
3. 추가 기능이나 개선사항 작업 진행

## 📝 개발 참고사항
- HTML의 `추천 대상` 컬럼과 CSV의 마지막 컬럼 `분류번호`를 정확히 구분하여 사용
- 페이지네이션은 검색/정렬 기능과 완전히 연동됨
- 모든 스타일은 모바일 우선 반응형으로 구현됨
- 다운로드 기능은 검색 상태에 따라 동적으로 버튼이 교체됨